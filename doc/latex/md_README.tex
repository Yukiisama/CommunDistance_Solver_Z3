Commun distance solver using Z3 and graphs 